<app-header [pageTitle]="['Add Shift']"></app-header>

<ion-content>
<ion-card style="margin-bottom: 5rem;">
  <ion-card-header>
    <ion-card-title class="ion-text-center" style="font-family: Quicksand, sans-serif">Add New Shift</ion-card-title>
  </ion-card-header>
  <form [formGroup]="form">
    <ion-item-group>
      <ion-item>
        <ion-label position="floating" class="ion-text-center" color="secondary"><span>Select Start Time</span></ion-label>
      <ion-datetime
        picker-format="DD MMM YY h:m A"
        formControlName="start"
        display-format="DD MMM YY h:m A"
      >
      </ion-datetime>
      </ion-item>
    </ion-item-group>
    <ion-item-group>
      <ion-item>
        <ion-label position="floating" class="ion-text-center" color="secondary"><span>Select Finish Time</span></ion-label>
      <ion-datetime
        picker-format="DD MMM YY h:m A"
        formControlName="end"
        display-format="DD MMM YY h:m A"
      >
      </ion-datetime>
    </ion-item>
    </ion-item-group>

    <ion-item-group>
    <ion-row>
      <ion-col size="6">
<ion-item>
        <ion-label position="floating" color="secondary">On Duty</ion-label>
         <ion-select formControlName="onDuty" placeholder="Select User">
           <ng-template #loadUsers>
             <ion-select-option>Error.. No users found</ion-select-option>
           </ng-template>
           <div *ngIf="users else loadUsers" >
           <ion-select-option *ngFor="let user of users | async" value="/users/{{this.user.id}}}">
             {{this.user.firstName}} {{this.user.lastName}}
           </ion-select-option>
           </div>
         </ion-select>
</ion-item>
      </ion-col>
      <ion-col size="6">
        <ion-item>
        <ion-label position="floating" color="secondary">Shift Status</ion-label>
        <ion-select formControlName="ShiftStatus" placeholder="Select Status">
          <ion-select-option value="secondary">Secondary</ion-select-option>
          <ion-select-option value="primary">Primary</ion-select-option>
        </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    </ion-item-group>
 <ion-col size="12">
   <ion-item>
      <ion-button type="submit" (click)="addShift()">Save Shift</ion-button>
   </ion-item>
 </ion-col>
    <ion-input formControlName="isApproved" type="hidden" value="false"></ion-input>
  </form>
  {{form.value | json}}
</ion-card>

</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button slot="start">
        <ion-icon size="large" color="primary" name="add-circle-outline"></ion-icon>
        <ion-label color="primary" style="font-size: 0.8rem; font-family: Quicksand, sans-serif">Add Shift</ion-label>
      </ion-button>
    </ion-buttons>

    <ion-buttons slot="secondary">
      <ion-button [routerLink]="['/shifts/calendar']">
        <ion-icon size="small"  name="calendar-outline"></ion-icon>
        <ion-label style="font-size: 0.8rem; font-family: Quicksand, sans-serif">Calendar</ion-label>
      </ion-button>
    </ion-buttons>

    <ion-buttons slot="end">
      <ion-button [routerLink]="['/shifts']">
        <ion-icon size="small" routerLinkActive="active"  name="search-circle-outline"></ion-icon>
        <ion-label style="font-size: 0.8rem; font-family: Quicksand, sans-serif">View All</ion-label>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>




