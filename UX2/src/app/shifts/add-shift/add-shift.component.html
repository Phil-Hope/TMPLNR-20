<app-header [pageTitle]="['Add Shift']"></app-header>

<ion-content>
<ion-card>
  <ion-card-header>
    <ion-card-title class="ion-text-center" style="font-family: Quicksand, sans-serif">Add New Shift</ion-card-title>
  </ion-card-header>
  <form [formGroup]="form" (ngSubmit)="addShift()" >
    <ion-item-group>
      <ion-item>
        <ion-label position="floating" class="ion-text-center" color="secondary"><span>Select Start Time</span></ion-label>
      <ion-datetime
        picker-format="DD MMM YY h:m A"
        formControlName="start"
        display-format="DD MMM YY h:m A"
      >
      </ion-datetime>
      </ion-item>
    </ion-item-group>
    <ion-item-group>
      <ion-item>
        <ion-label position="floating" class="ion-text-center" color="secondary"><span>Select Finish Time</span></ion-label>
      <ion-datetime
        picker-format="DD MMM YY h:m A"
        formControlName="end"
        display-format="DD MMM YY h:m A"
      >
      </ion-datetime>
    </ion-item>
    </ion-item-group>

    <ion-item-group>
    <ion-row>
      <ion-col size="6">
<ion-item>
        <ion-label position="floating" color="secondary">On Duty</ion-label>
         <ion-select formControlName="onDuty" placeholder="Select User">
           <ng-template #loadUsers>
             <ion-select-option>Error.. No users found</ion-select-option>
           </ng-template>
           <div *ngIf="users else loadUsers" >
           <ion-select-option *ngFor="let user of users | async" value="/users/{{this.user.id}}}">
             {{this.user.firstName}} {{this.user.lastName}}
           </ion-select-option>
           </div>
         </ion-select>
</ion-item>
      </ion-col>
      <ion-col size="6">
        <ion-item>
        <ion-label position="floating" color="secondary">Shift Status</ion-label>
        <ion-select formControlName="ShiftStatus" placeholder="Select Status">
          <ion-select-option value="draft">Draft</ion-select-option>
          <ion-select-option value="secondary">Secondary</ion-select-option>
          <ion-select-option value="primary">Primary</ion-select-option>
        </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    </ion-item-group>
 <ion-col size="12">
   <ion-item>
      <ion-button type="submit">Save Shift</ion-button>
   </ion-item>
 </ion-col>
  </form>
  {{form.value | json}}
</ion-card>

</ion-content>

<ion-tabs>
  <ion-tab-bar slot="bottom">
    <ion-tab-button class="ion-activatable ripple-parent">
      <ion-icon size="large" color="primary" name="add-circle-outline"></ion-icon>
      <ion-label>Add Shift</ion-label>
    </ion-tab-button>

    <ion-tab-button [routerLink]="['../calendar']" class="ion-activatable ripple-parent">
      <ion-icon size="small"  name="calendar-outline"></ion-icon>
      <ion-label>Calendar</ion-label>
    </ion-tab-button>

    <ion-tab-button [routerLink]="['../../shifts']" class="ion-activatable ripple-parent">
      <ion-icon size="small" name="search-circle-outline"></ion-icon>
      <ion-label>View All</ion-label>
    </ion-tab-button>

  </ion-tab-bar>
</ion-tabs>




